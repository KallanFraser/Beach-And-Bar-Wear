(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{4198:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(7876),s=n(4232),a=n(8230),r=n.n(a),l=n(3663);let d=()=>{let{isDayMode:e,setIsDayMode:t}=(0,s.useContext)(l.F),n=!e;return(0,s.useEffect)(()=>{document.body.classList.toggle("night-mode",n);let e=document.createElement("div");e.className="mode-overlay",document.body.appendChild(e),requestAnimationFrame(()=>{e.style.opacity="0"});let t=()=>{e.removeEventListener("transitionend",t),e.parentNode&&e.parentNode.removeChild(e)};return e.addEventListener("transitionend",t),()=>{e.removeEventListener("transitionend",t),e.parentNode&&e.parentNode.removeChild(e)}},[n]),(0,i.jsxs)("div",{id:"navigation-bar",children:[(0,i.jsx)(r(),{href:"/HomePage",children:(0,i.jsx)("img",{src:"/images/HomePage.png",alt:"Home"})}),(0,i.jsxs)("div",{id:"clothing-categories",children:[(0,i.jsx)("h2",{children:"Mens"}),(0,i.jsx)("h2",{children:"Womens"})]}),(0,i.jsx)("div",{id:"navigation-bar-center-content",children:(0,i.jsx)(r(),{href:"/",children:(0,i.jsx)("img",{src:"/images/LogoScratched.png",alt:"Logo"})})}),(0,i.jsxs)("div",{id:"theme-controller",children:[(0,i.jsx)("button",{className:"theme-button",onClick:()=>t(!0),children:(0,i.jsx)("img",{src:"/images/SunIcon.png",alt:"Day Mode",className:"theme-icon"})}),(0,i.jsx)("button",{className:"theme-button",onClick:()=>t(!1),children:(0,i.jsx)("img",{src:"/images/MoonIcon.png",alt:"Night Mode",className:"theme-icon"})})]}),(0,i.jsx)(r(),{href:"/ViewCartPage",children:(0,i.jsx)("img",{src:"/images/Cart.png",alt:"Cart"})})]})}},5612:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var i=n(7876),s=n(4232),a=n(8847),r=n.n(a),l=n(9099),d=n(1040),o=n(4198),c=n(3663),m=n(1902);function h(e){let{children:t}=e,[n,a]=(0,s.useState)(null);return((0,s.useEffect)(()=>{window.Stripe&&a(window.Stripe("pk_live_51ROrrZAuCEKu2C4gd9vm9aOsWKxBbopkTHcvR5B9orxaHE7C6c8p6xcyAEAnj3UPtqZ2IlzvBZLezOM8UbCiSPC300d3t7r6ih"))},[]),n)?(0,i.jsx)(m.Elements,{stripe:n,children:t}):(0,i.jsx)("p",{children:"Loading payment form…"})}function u(){let{cart:e,products:t}=(0,s.useContext)(c.F),n=(0,m.useStripe)(),a=(0,m.useElements)(),r=(0,l.useRouter)(),o=(0,s.useMemo)(()=>e.map(e=>{let n=t.find(t=>String(t.id)===String(e.productId));return n?{...e,title:n.title,imageUrls:n.imageUrls,variant:n.variants.find(t=>t.sku===e.sku)||{}}:null}).filter(Boolean),[e,t]),[h,u]=(0,s.useState)({fullName:"",email:"",phone:"",address1:"",address2:"",city:"",state:"",zip:"",country:"US"}),[p,j]=(0,s.useState)(!1),[g,y]=(0,s.useState)(null),v=e=>{let{name:t,value:n}=e.target;u(e=>({...e,[t]:n}))},f=async e=>{if(e.preventDefault(),j(!0),y(null),!n||!a){y("Stripe.js has not loaded yet."),j(!1);return}let t=a.getElement(m.CardElement),{error:i,paymentMethod:s}=await n.createPaymentMethod({type:"card",card:t,billing_details:{name:h.fullName,email:h.email,phone:h.phone,address:{line1:h.address1,line2:h.address2,city:h.city,state:h.state,postal_code:h.zip,country:h.country}}});if(i){y(i.message),j(!1);return}try{let{orderId:e,paymentIntentId:t}=(await d.A.post("/checkout",{cart:o.map(e=>({sku:e.sku,quantity:e.quantity})),shippingInfo:h,shippingCost:10,tax:4.5,paymentMethodId:s.id})).data;r.push({pathname:"/OrderConfirmationPage",query:{orderId:e,paymentIntentId:t}})}catch(e){var l,c;y((null==(c=e.response)||null==(l=c.data)?void 0:l.message)||e.message),j(!1)}};return(0,i.jsx)("form",{id:"payment-box",onSubmit:f,children:(0,i.jsxs)("div",{id:"payment-list",children:[(0,i.jsxs)("div",{id:"payment-left-column",children:[(0,i.jsx)("h3",{children:"My Cart"}),0===o.length?(0,i.jsx)("p",{children:"Your cart is empty."}):o.map(e=>(0,i.jsx)(x,{quantity:e.quantity,title:e.title,imageUrls:e.imageUrls,variant:e.variant},e.sku))]}),(0,i.jsxs)("div",{id:"payment-right-column",children:[(0,i.jsx)("h3",{children:"Payment & Shipping"}),(0,i.jsxs)("section",{className:"form-section",children:[(0,i.jsx)("h4",{children:"Shipping Information"}),[{label:"Full Name",name:"fullName",type:"text",req:!0},{label:"Email",name:"email",type:"email",req:!0},{label:"Phone",name:"phone",type:"tel",req:!1},{label:"Address Line 1",name:"address1",type:"text",req:!0},{label:"Address Line 2",name:"address2",type:"text",req:!1},{label:"City",name:"city",type:"text",req:!0},{label:"State/Region",name:"state",type:"text",req:!0},{label:"ZIP/Postal Code",name:"zip",type:"text",req:!0}].map(e=>{let{label:t,name:n,type:s,req:a}=e;return(0,i.jsxs)("label",{children:[t,(0,i.jsx)("input",{type:s,name:n,value:h[n],onChange:v,required:a})]},n)}),(0,i.jsxs)("label",{children:["Country",(0,i.jsxs)("select",{name:"country",value:h.country,onChange:v,children:[(0,i.jsx)("option",{value:"US",children:"United States"}),(0,i.jsx)("option",{value:"CA",children:"Canada"}),(0,i.jsx)("option",{value:"GB",children:"United Kingdom"})]})]})]}),(0,i.jsxs)("section",{className:"form-section",children:[(0,i.jsx)("h4",{children:"Shipping Method"}),(0,i.jsxs)("p",{children:["Standard (5–7 days) — ",(0,i.jsx)("strong",{children:"$10.00"})]})]}),(0,i.jsxs)("section",{className:"form-section",children:[(0,i.jsx)("h4",{children:"Tax"}),(0,i.jsxs)("p",{children:["Tax applied — ",(0,i.jsx)("strong",{children:"$4.50"})]})]}),(0,i.jsxs)("section",{className:"form-section",children:[(0,i.jsx)("h4",{children:"Payment Information"}),(0,i.jsx)(m.CardElement,{options:{style:{base:{fontSize:"16px"}}}})]}),g&&(0,i.jsx)("p",{className:"error-text",children:g}),(0,i.jsx)("button",{type:"submit",disabled:p||!n,children:p?"Placing Order…":"Place Order"})]})]})})}function p(){return(0,i.jsxs)("div",{id:"payment-page",children:[(0,i.jsx)(o.A,{}),(0,i.jsx)(h,{children:(0,i.jsx)(u,{})})]})}function x(e){let{quantity:t,title:n,imageUrls:s,variant:a}=e,r=null==s?void 0:s[0];return(0,i.jsxs)("div",{className:"cart-item-mini-widget",children:[(0,i.jsx)("img",{src:r,alt:n,className:"cart-item-mini-thumb"}),(0,i.jsxs)("div",{className:"cart-item-mini-info",children:[(0,i.jsx)("h2",{children:n}),(0,i.jsxs)("p",{children:["Quantity: ",t]}),(0,i.jsxs)("p",{children:["Price: $",((a.price||0)*t).toFixed(2)]}),(0,i.jsxs)("p",{children:["Size: ",a.title]})]})]})}let j=r()(()=>Promise.resolve(p),{ssr:!1})},8790:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/PaymentPage",function(){return n(5612)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[8,34,636,593,792],()=>t(8790)),_N_E=e.O()}]);